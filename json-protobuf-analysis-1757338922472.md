# JSON vs Protobuf 性能测试报告

## 测试环境

- **测试时间**: 2025-09-08T13:40:37.902Z
- **Node.js 版本**: v22.19.0
- **平台**: darwin arm64
- **CPU**: Apple M3 Max
- **内存**: 36.0 GB

## 测试结果概览

### 数据压缩效果

| 数据大小 | JSON (KB) | Protobuf (KB) | 压缩率 | 节省空间 (KB) |
|---------|-----------|---------------|--------|---------------|
| 小数据   | 0.06 | 0.02 | 60.0% | 0.04 |
| 中等数据 | 21.08 | 7.93 | 62.4% | 13.15 |
| 大数据   | 5301.35 | 3195.57 | 39.7% | 2105.78 |

### 序列化性能对比

| 数据大小 | JSON (μs) | Protobuf (μs) | 性能差异 | JSON (ops/sec) | Protobuf (ops/sec) |
|---------|-----------|---------------|----------|----------------|--------------------|
| 小数据   | 0.554 | 0.372 | 32.9% | 1804889 | 2689799 |
| 中等数据 | 25.322 | 68.038 | -168.7% | 39492 | 14698 |
| 大数据   | 9257.048 | 43514.001 | -370.1% | 108 | 23 |

### 反序列化性能对比

| 数据大小 | JSON (μs) | Protobuf (μs) | 性能差异 | JSON (ops/sec) | Protobuf (ops/sec) |
|---------|-----------|---------------|----------|----------------|--------------------|
| 小数据   | 0.255 | 0.143 | 43.8% | 3926483 | 6989260 |
| 中等数据 | 59.380 | 37.001 | 37.7% | 16841 | 27026 |
| 大数据   | 12662.001 | 10305.176 | 18.6% | 79 | 97 |

## 关键发现

### 数据压缩
- Protobuf 在所有测试场景下都显著减少了数据大小
- 平均压缩率达到 54.0%
- 对于网络传输和存储都有明显优势

### 序列化性能
- 小数据：Protobuf 更快
- 中等数据：JSON 更快
- 大数据：JSON 更快

### 反序列化性能
- Protobuf 在所有数据大小下反序列化性能都优于 JSON
- 性能提升随数据大小变化，小数据提升最显著

## 推荐使用场景

### 适合使用 Protobuf 的场景
- 微服务间高频通信
- 需要长期存储大量数据
- 移动应用或带宽有限的环境
- 性能要求极高的系统
- 数据结构相对稳定

### 适合使用 JSON 的场景
- Web API 开发，需要人类可读
- 快速原型开发
- 数据结构频繁变更
- 小型项目或简单数据交换
- 浏览器环境直接处理

## 总结

Protobuf 在反序列化性能和数据压缩方面显示出明显优势，特别适合高性能和网络传输场景。

---
*测试报告生成时间: 2025-09-08T13:42:02.472Z*
